---
source: parser/src/parser/parser.rs
description: "# in some cases last price or adj price is undefined\ntry:\n    last_price = int(price_section[2])\n# when instead of number value is `F`\nexcept (ValueError, IndexError):\n    last_price = None\ntry:\n    adj_close = int(price_section[3])\nexcept (ValueError, IndexError):\n    adj_close = None\ntry:\n    market_cap = adj_close * self.total_shares\nexcept ValueError:\n    market_cap = None\n\n\ntry:\n    async with session.get(url, headers=TRADE_DETAILS_HEADER, timeout=100) as response:\n        if response.status == 503:\n            logger.info(f\"Received 503 Service Unavailable on {date_obj}. Retrying...\")\n            retry_count += 1\n            await asyncio.sleep(1)\n        else:\n            response.raise_for_status()\n            data = await response.json()\n            logger.info(f\"Successfully fetched trade details on {date_obj} from tse\")\n            return [date_obj, pd.json_normalize(data[\"tradeHistory\"])]\nexcept (aiohttp.ClientError, asyncio.TimeoutError):\n    logger.error(f\"Request failed for {date_obj}. Retrying...\")\n    retry_count += 1\n    await asyncio.sleep(1)\n"
---
Module {
    node: Node {
        start: 0,
        end: 1078,
    },
    body: [
        TryStatement(
            Try {
                node: Node {
                    start: 53,
                    end: 190,
                },
                body: [
                    AssignStatement(
                        Assign {
                            node: Node {
                                start: 62,
                                end: 96,
                            },
                            targets: [
                                Name(
                                    Name {
                                        node: Node {
                                            start: 62,
                                            end: 72,
                                        },
                                        id: "last_price",
                                        parenthesized: false,
                                    },
                                ),
                            ],
                            value: Call(
                                Call {
                                    node: Node {
                                        start: 75,
                                        end: 96,
                                    },
                                    func: Name(
                                        Name {
                                            node: Node {
                                                start: 75,
                                                end: 78,
                                            },
                                            id: "int",
                                            parenthesized: false,
                                        },
                                    ),
                                    args: [
                                        Subscript(
                                            Subscript {
                                                node: Node {
                                                    start: 79,
                                                    end: 95,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 79,
                                                            end: 92,
                                                        },
                                                        id: "price_section",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                slice: Constant(
                                                    Constant {
                                                        node: Node {
                                                            start: 93,
                                                            end: 94,
                                                        },
                                                        value: 2,
                                                    },
                                                ),
                                            },
                                        ),
                                    ],
                                    keywords: [],
                                    starargs: None,
                                    kwargs: None,
                                },
                            ),
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 135,
                            end: 190,
                        },
                        typ: Some(
                            Tuple(
                                Tuple {
                                    node: Node {
                                        start: 142,
                                        end: 165,
                                    },
                                    elements: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 143,
                                                    end: 153,
                                                },
                                                id: "ValueError",
                                                parenthesized: false,
                                            },
                                        ),
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 155,
                                                    end: 165,
                                                },
                                                id: "IndexError",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            AssignStatement(
                                Assign {
                                    node: Node {
                                        start: 172,
                                        end: 189,
                                    },
                                    targets: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 172,
                                                    end: 182,
                                                },
                                                id: "last_price",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 185,
                                                end: 189,
                                            },
                                            value: None,
                                        },
                                    ),
                                },
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
        TryStatement(
            Try {
                node: Node {
                    start: 190,
                    end: 287,
                },
                body: [
                    AssignStatement(
                        Assign {
                            node: Node {
                                start: 199,
                                end: 232,
                            },
                            targets: [
                                Name(
                                    Name {
                                        node: Node {
                                            start: 199,
                                            end: 208,
                                        },
                                        id: "adj_close",
                                        parenthesized: false,
                                    },
                                ),
                            ],
                            value: Call(
                                Call {
                                    node: Node {
                                        start: 211,
                                        end: 232,
                                    },
                                    func: Name(
                                        Name {
                                            node: Node {
                                                start: 211,
                                                end: 214,
                                            },
                                            id: "int",
                                            parenthesized: false,
                                        },
                                    ),
                                    args: [
                                        Subscript(
                                            Subscript {
                                                node: Node {
                                                    start: 215,
                                                    end: 231,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 215,
                                                            end: 228,
                                                        },
                                                        id: "price_section",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                slice: Constant(
                                                    Constant {
                                                        node: Node {
                                                            start: 229,
                                                            end: 230,
                                                        },
                                                        value: 3,
                                                    },
                                                ),
                                            },
                                        ),
                                    ],
                                    keywords: [],
                                    starargs: None,
                                    kwargs: None,
                                },
                            ),
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 233,
                            end: 287,
                        },
                        typ: Some(
                            Tuple(
                                Tuple {
                                    node: Node {
                                        start: 240,
                                        end: 263,
                                    },
                                    elements: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 241,
                                                    end: 251,
                                                },
                                                id: "ValueError",
                                                parenthesized: false,
                                            },
                                        ),
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 253,
                                                    end: 263,
                                                },
                                                id: "IndexError",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            AssignStatement(
                                Assign {
                                    node: Node {
                                        start: 270,
                                        end: 286,
                                    },
                                    targets: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 270,
                                                    end: 279,
                                                },
                                                id: "adj_close",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 282,
                                                end: 286,
                                            },
                                            value: None,
                                        },
                                    ),
                                },
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
        TryStatement(
            Try {
                node: Node {
                    start: 287,
                    end: 382,
                },
                body: [
                    AssignStatement(
                        Assign {
                            node: Node {
                                start: 296,
                                end: 338,
                            },
                            targets: [
                                Name(
                                    Name {
                                        node: Node {
                                            start: 296,
                                            end: 306,
                                        },
                                        id: "market_cap",
                                        parenthesized: false,
                                    },
                                ),
                            ],
                            value: BinOp(
                                BinOp {
                                    node: Node {
                                        start: 309,
                                        end: 338,
                                    },
                                    op: Mult,
                                    left: Name(
                                        Name {
                                            node: Node {
                                                start: 309,
                                                end: 318,
                                            },
                                            id: "adj_close",
                                            parenthesized: false,
                                        },
                                    ),
                                    right: Attribute(
                                        Attribute {
                                            node: Node {
                                                start: 321,
                                                end: 338,
                                            },
                                            value: Name(
                                                Name {
                                                    node: Node {
                                                        start: 321,
                                                        end: 325,
                                                    },
                                                    id: "self",
                                                    parenthesized: false,
                                                },
                                            ),
                                            attr: "total_shares",
                                        },
                                    ),
                                },
                            ),
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 339,
                            end: 382,
                        },
                        typ: Some(
                            Name(
                                Name {
                                    node: Node {
                                        start: 346,
                                        end: 356,
                                    },
                                    id: "ValueError",
                                    parenthesized: false,
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            AssignStatement(
                                Assign {
                                    node: Node {
                                        start: 362,
                                        end: 379,
                                    },
                                    targets: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 362,
                                                    end: 372,
                                                },
                                                id: "market_cap",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 375,
                                                end: 379,
                                            },
                                            value: None,
                                        },
                                    ),
                                },
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
        TryStatement(
            Try {
                node: Node {
                    start: 382,
                    end: 1078,
                },
                body: [
                    AsyncWithStatement(
                        AsyncWith {
                            node: Node {
                                start: 391,
                                end: 914,
                            },
                            items: [
                                WithItem {
                                    node: Node {
                                        start: 402,
                                        end: 473,
                                    },
                                    context_expr: Call(
                                        Call {
                                            node: Node {
                                                start: 402,
                                                end: 461,
                                            },
                                            func: Attribute(
                                                Attribute {
                                                    node: Node {
                                                        start: 402,
                                                        end: 413,
                                                    },
                                                    value: Name(
                                                        Name {
                                                            node: Node {
                                                                start: 402,
                                                                end: 409,
                                                            },
                                                            id: "session",
                                                            parenthesized: false,
                                                        },
                                                    ),
                                                    attr: "get",
                                                },
                                            ),
                                            args: [
                                                Name(
                                                    Name {
                                                        node: Node {
                                                            start: 414,
                                                            end: 417,
                                                        },
                                                        id: "url",
                                                        parenthesized: false,
                                                    },
                                                ),
                                            ],
                                            keywords: [
                                                Keyword {
                                                    node: Node {
                                                        start: 419,
                                                        end: 447,
                                                    },
                                                    arg: Some(
                                                        "headers",
                                                    ),
                                                    value: Name(
                                                        Name {
                                                            node: Node {
                                                                start: 427,
                                                                end: 447,
                                                            },
                                                            id: "TRADE_DETAILS_HEADER",
                                                            parenthesized: false,
                                                        },
                                                    ),
                                                },
                                                Keyword {
                                                    node: Node {
                                                        start: 449,
                                                        end: 460,
                                                    },
                                                    arg: Some(
                                                        "timeout",
                                                    ),
                                                    value: Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 457,
                                                                end: 460,
                                                            },
                                                            value: 100,
                                                        },
                                                    ),
                                                },
                                            ],
                                            starargs: None,
                                            kwargs: None,
                                        },
                                    ),
                                    optional_vars: Some(
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 465,
                                                    end: 473,
                                                },
                                                id: "response",
                                                parenthesized: false,
                                            },
                                        ),
                                    ),
                                },
                            ],
                            body: [
                                IfStatement(
                                    If {
                                        node: Node {
                                            start: 483,
                                            end: 914,
                                        },
                                        test: Compare(
                                            Compare {
                                                node: Node {
                                                    start: 486,
                                                    end: 508,
                                                },
                                                left: Attribute(
                                                    Attribute {
                                                        node: Node {
                                                            start: 486,
                                                            end: 501,
                                                        },
                                                        value: Name(
                                                            Name {
                                                                node: Node {
                                                                    start: 486,
                                                                    end: 494,
                                                                },
                                                                id: "response",
                                                                parenthesized: false,
                                                            },
                                                        ),
                                                        attr: "status",
                                                    },
                                                ),
                                                ops: [
                                                    Eq,
                                                ],
                                                comparators: [
                                                    Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 505,
                                                                end: 508,
                                                            },
                                                            value: 503,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                        body: [
                                            ExpressionStatement(
                                                Call(
                                                    Call {
                                                        node: Node {
                                                            start: 522,
                                                            end: 597,
                                                        },
                                                        func: Attribute(
                                                            Attribute {
                                                                node: Node {
                                                                    start: 522,
                                                                    end: 533,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 522,
                                                                            end: 528,
                                                                        },
                                                                        id: "logger",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                attr: "info",
                                                            },
                                                        ),
                                                        args: [
                                                            JoinedStr(
                                                                JoinedStr {
                                                                    node: Node {
                                                                        start: 534,
                                                                        end: 596,
                                                                    },
                                                                    values: [
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 536,
                                                                                    end: 572,
                                                                                },
                                                                                value: "Received 503 Service Unavailable on ",
                                                                            },
                                                                        ),
                                                                        FormattedValue(
                                                                            FormattedValue {
                                                                                node: Node {
                                                                                    start: 572,
                                                                                    end: 582,
                                                                                },
                                                                                value: Name(
                                                                                    Name {
                                                                                        node: Node {
                                                                                            start: 573,
                                                                                            end: 581,
                                                                                        },
                                                                                        id: "date_obj",
                                                                                        parenthesized: false,
                                                                                    },
                                                                                ),
                                                                                conversion: -1,
                                                                                format_spec: None,
                                                                            },
                                                                        ),
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 582,
                                                                                    end: 595,
                                                                                },
                                                                                value: ". Retrying...",
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        keywords: [],
                                                        starargs: None,
                                                        kwargs: None,
                                                    },
                                                ),
                                            ),
                                            AugAssignStatement(
                                                AugAssign {
                                                    node: Node {
                                                        start: 610,
                                                        end: 626,
                                                    },
                                                    target: Name(
                                                        Name {
                                                            node: Node {
                                                                start: 610,
                                                                end: 621,
                                                            },
                                                            id: "retry_count",
                                                            parenthesized: false,
                                                        },
                                                    ),
                                                    op: Add,
                                                    value: Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 625,
                                                                end: 626,
                                                            },
                                                            value: 1,
                                                        },
                                                    ),
                                                },
                                            ),
                                            ExpressionStatement(
                                                Await(
                                                    Await {
                                                        node: Node {
                                                            start: 639,
                                                            end: 661,
                                                        },
                                                        value: Call(
                                                            Call {
                                                                node: Node {
                                                                    start: 645,
                                                                    end: 661,
                                                                },
                                                                func: Attribute(
                                                                    Attribute {
                                                                        node: Node {
                                                                            start: 645,
                                                                            end: 658,
                                                                        },
                                                                        value: Name(
                                                                            Name {
                                                                                node: Node {
                                                                                    start: 645,
                                                                                    end: 652,
                                                                                },
                                                                                id: "asyncio",
                                                                                parenthesized: false,
                                                                            },
                                                                        ),
                                                                        attr: "sleep",
                                                                    },
                                                                ),
                                                                args: [
                                                                    Constant(
                                                                        Constant {
                                                                            node: Node {
                                                                                start: 659,
                                                                                end: 660,
                                                                            },
                                                                            value: 1,
                                                                        },
                                                                    ),
                                                                ],
                                                                keywords: [],
                                                                starargs: None,
                                                                kwargs: None,
                                                            },
                                                        ),
                                                    },
                                                ),
                                            ),
                                        ],
                                        orelse: [
                                            ExpressionStatement(
                                                Call(
                                                    Call {
                                                        node: Node {
                                                            start: 688,
                                                            end: 715,
                                                        },
                                                        func: Attribute(
                                                            Attribute {
                                                                node: Node {
                                                                    start: 688,
                                                                    end: 713,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 688,
                                                                            end: 696,
                                                                        },
                                                                        id: "response",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                attr: "raise_for_status",
                                                            },
                                                        ),
                                                        args: [],
                                                        keywords: [],
                                                        starargs: None,
                                                        kwargs: None,
                                                    },
                                                ),
                                            ),
                                            AssignStatement(
                                                Assign {
                                                    node: Node {
                                                        start: 728,
                                                        end: 756,
                                                    },
                                                    targets: [
                                                        Name(
                                                            Name {
                                                                node: Node {
                                                                    start: 728,
                                                                    end: 732,
                                                                },
                                                                id: "data",
                                                                parenthesized: false,
                                                            },
                                                        ),
                                                    ],
                                                    value: Await(
                                                        Await {
                                                            node: Node {
                                                                start: 735,
                                                                end: 756,
                                                            },
                                                            value: Call(
                                                                Call {
                                                                    node: Node {
                                                                        start: 741,
                                                                        end: 756,
                                                                    },
                                                                    func: Attribute(
                                                                        Attribute {
                                                                            node: Node {
                                                                                start: 741,
                                                                                end: 754,
                                                                            },
                                                                            value: Name(
                                                                                Name {
                                                                                    node: Node {
                                                                                        start: 741,
                                                                                        end: 749,
                                                                                    },
                                                                                    id: "response",
                                                                                    parenthesized: false,
                                                                                },
                                                                            ),
                                                                            attr: "json",
                                                                        },
                                                                    ),
                                                                    args: [],
                                                                    keywords: [],
                                                                    starargs: None,
                                                                    kwargs: None,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                },
                                            ),
                                            ExpressionStatement(
                                                Call(
                                                    Call {
                                                        node: Node {
                                                            start: 769,
                                                            end: 842,
                                                        },
                                                        func: Attribute(
                                                            Attribute {
                                                                node: Node {
                                                                    start: 769,
                                                                    end: 780,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 769,
                                                                            end: 775,
                                                                        },
                                                                        id: "logger",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                attr: "info",
                                                            },
                                                        ),
                                                        args: [
                                                            JoinedStr(
                                                                JoinedStr {
                                                                    node: Node {
                                                                        start: 781,
                                                                        end: 841,
                                                                    },
                                                                    values: [
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 783,
                                                                                    end: 821,
                                                                                },
                                                                                value: "Successfully fetched trade details on ",
                                                                            },
                                                                        ),
                                                                        FormattedValue(
                                                                            FormattedValue {
                                                                                node: Node {
                                                                                    start: 821,
                                                                                    end: 831,
                                                                                },
                                                                                value: Name(
                                                                                    Name {
                                                                                        node: Node {
                                                                                            start: 822,
                                                                                            end: 830,
                                                                                        },
                                                                                        id: "date_obj",
                                                                                        parenthesized: false,
                                                                                    },
                                                                                ),
                                                                                conversion: -1,
                                                                                format_spec: None,
                                                                            },
                                                                        ),
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 831,
                                                                                    end: 840,
                                                                                },
                                                                                value: " from tse",
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        keywords: [],
                                                        starargs: None,
                                                        kwargs: None,
                                                    },
                                                ),
                                            ),
                                            Return(
                                                Return {
                                                    node: Node {
                                                        start: 855,
                                                        end: 913,
                                                    },
                                                    value: Some(
                                                        List(
                                                            List {
                                                                node: Node {
                                                                    start: 862,
                                                                    end: 913,
                                                                },
                                                                elements: [
                                                                    Name(
                                                                        Name {
                                                                            node: Node {
                                                                                start: 863,
                                                                                end: 871,
                                                                            },
                                                                            id: "date_obj",
                                                                            parenthesized: false,
                                                                        },
                                                                    ),
                                                                    Call(
                                                                        Call {
                                                                            node: Node {
                                                                                start: 873,
                                                                                end: 912,
                                                                            },
                                                                            func: Attribute(
                                                                                Attribute {
                                                                                    node: Node {
                                                                                        start: 873,
                                                                                        end: 890,
                                                                                    },
                                                                                    value: Name(
                                                                                        Name {
                                                                                            node: Node {
                                                                                                start: 873,
                                                                                                end: 875,
                                                                                            },
                                                                                            id: "pd",
                                                                                            parenthesized: false,
                                                                                        },
                                                                                    ),
                                                                                    attr: "json_normalize",
                                                                                },
                                                                            ),
                                                                            args: [
                                                                                Subscript(
                                                                                    Subscript {
                                                                                        node: Node {
                                                                                            start: 891,
                                                                                            end: 911,
                                                                                        },
                                                                                        value: Name(
                                                                                            Name {
                                                                                                node: Node {
                                                                                                    start: 891,
                                                                                                    end: 895,
                                                                                                },
                                                                                                id: "data",
                                                                                                parenthesized: false,
                                                                                            },
                                                                                        ),
                                                                                        slice: Constant(
                                                                                            Constant {
                                                                                                node: Node {
                                                                                                    start: 896,
                                                                                                    end: 910,
                                                                                                },
                                                                                                value: "tradeHistory",
                                                                                            },
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                            ],
                                                                            keywords: [],
                                                                            starargs: None,
                                                                            kwargs: None,
                                                                        },
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ),
                                        ],
                                    },
                                ),
                            ],
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 914,
                            end: 1078,
                        },
                        typ: Some(
                            Tuple(
                                Tuple {
                                    node: Node {
                                        start: 921,
                                        end: 963,
                                    },
                                    elements: [
                                        Attribute(
                                            Attribute {
                                                node: Node {
                                                    start: 922,
                                                    end: 941,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 922,
                                                            end: 929,
                                                        },
                                                        id: "aiohttp",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                attr: "ClientError",
                                            },
                                        ),
                                        Attribute(
                                            Attribute {
                                                node: Node {
                                                    start: 943,
                                                    end: 963,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 943,
                                                            end: 950,
                                                        },
                                                        id: "asyncio",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                attr: "TimeoutError",
                                            },
                                        ),
                                    ],
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            ExpressionStatement(
                                Call(
                                    Call {
                                        node: Node {
                                            start: 970,
                                            end: 1029,
                                        },
                                        func: Attribute(
                                            Attribute {
                                                node: Node {
                                                    start: 970,
                                                    end: 982,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 970,
                                                            end: 976,
                                                        },
                                                        id: "logger",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                attr: "error",
                                            },
                                        ),
                                        args: [
                                            JoinedStr(
                                                JoinedStr {
                                                    node: Node {
                                                        start: 983,
                                                        end: 1028,
                                                    },
                                                    values: [
                                                        Constant(
                                                            Constant {
                                                                node: Node {
                                                                    start: 985,
                                                                    end: 1004,
                                                                },
                                                                value: "Request failed for ",
                                                            },
                                                        ),
                                                        FormattedValue(
                                                            FormattedValue {
                                                                node: Node {
                                                                    start: 1004,
                                                                    end: 1014,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 1005,
                                                                            end: 1013,
                                                                        },
                                                                        id: "date_obj",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                conversion: -1,
                                                                format_spec: None,
                                                            },
                                                        ),
                                                        Constant(
                                                            Constant {
                                                                node: Node {
                                                                    start: 1014,
                                                                    end: 1027,
                                                                },
                                                                value: ". Retrying...",
                                                            },
                                                        ),
                                                    ],
                                                },
                                            ),
                                        ],
                                        keywords: [],
                                        starargs: None,
                                        kwargs: None,
                                    },
                                ),
                            ),
                            AugAssignStatement(
                                AugAssign {
                                    node: Node {
                                        start: 1034,
                                        end: 1050,
                                    },
                                    target: Name(
                                        Name {
                                            node: Node {
                                                start: 1034,
                                                end: 1045,
                                            },
                                            id: "retry_count",
                                            parenthesized: false,
                                        },
                                    ),
                                    op: Add,
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 1049,
                                                end: 1050,
                                            },
                                            value: 1,
                                        },
                                    ),
                                },
                            ),
                            ExpressionStatement(
                                Await(
                                    Await {
                                        node: Node {
                                            start: 1055,
                                            end: 1077,
                                        },
                                        value: Call(
                                            Call {
                                                node: Node {
                                                    start: 1061,
                                                    end: 1077,
                                                },
                                                func: Attribute(
                                                    Attribute {
                                                        node: Node {
                                                            start: 1061,
                                                            end: 1074,
                                                        },
                                                        value: Name(
                                                            Name {
                                                                node: Node {
                                                                    start: 1061,
                                                                    end: 1068,
                                                                },
                                                                id: "asyncio",
                                                                parenthesized: false,
                                                            },
                                                        ),
                                                        attr: "sleep",
                                                    },
                                                ),
                                                args: [
                                                    Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 1075,
                                                                end: 1076,
                                                            },
                                                            value: 1,
                                                        },
                                                    ),
                                                ],
                                                keywords: [],
                                                starargs: None,
                                                kwargs: None,
                                            },
                                        ),
                                    },
                                ),
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
    ],
}
