---
source: parser/src/parser/parser.rs
description: "# in some cases last price or adj price is undefined\ntry:\n    last_price = int(price_section[2])\n# when instead of number value is `F`\nexcept (ValueError, IndexError):\n    last_price = None\ntry:\n    adj_close = int(price_section[3])\nexcept (ValueError, IndexError):\n    adj_close = None\ntry:\n    market_cap = adj_close * self.total_shares\nexcept ValueError:\n    market_cap = None\n\n\ntry:\n    async with session.get(\n        url, headers=TRADE_DETAILS_HEADER, timeout=100\n    ) as response:\n        if response.status == 503:\n            logger.info(\n                f\"Received 503 Service Unavailable on {date_obj}. Retrying...\"\n            )\n            retry_count += 1\n            await asyncio.sleep(1)\n        else:\n            response.raise_for_status()\n            data = await response.json()\n            logger.info(\n                f\"Successfully fetched trade details on {date_obj} from tse\"\n            )\n            return [date_obj, pd.json_normalize(data[\"tradeHistory\"])]\nexcept (aiohttp.ClientError, asyncio.TimeoutError):\n    logger.error(f\"Request failed for {date_obj}. Retrying...\")\n    retry_count += 1\n    await asyncio.sleep(1)\n"
---
Module {
    node: Node {
        start: 0,
        end: 1152,
    },
    body: [
        TryStatement(
            Try {
                node: Node {
                    start: 53,
                    end: 190,
                },
                body: [
                    AssignStatement(
                        Assign {
                            node: Node {
                                start: 62,
                                end: 96,
                            },
                            targets: [
                                Name(
                                    Name {
                                        node: Node {
                                            start: 62,
                                            end: 72,
                                        },
                                        id: "last_price",
                                        parenthesized: false,
                                    },
                                ),
                            ],
                            value: Call(
                                Call {
                                    node: Node {
                                        start: 75,
                                        end: 96,
                                    },
                                    func: Name(
                                        Name {
                                            node: Node {
                                                start: 75,
                                                end: 78,
                                            },
                                            id: "int",
                                            parenthesized: false,
                                        },
                                    ),
                                    args: [
                                        Subscript(
                                            Subscript {
                                                node: Node {
                                                    start: 79,
                                                    end: 95,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 79,
                                                            end: 92,
                                                        },
                                                        id: "price_section",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                slice: Constant(
                                                    Constant {
                                                        node: Node {
                                                            start: 93,
                                                            end: 94,
                                                        },
                                                        value: 2,
                                                    },
                                                ),
                                            },
                                        ),
                                    ],
                                    keywords: [],
                                    starargs: None,
                                    kwargs: None,
                                },
                            ),
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 135,
                            end: 190,
                        },
                        typ: Some(
                            Tuple(
                                Tuple {
                                    node: Node {
                                        start: 142,
                                        end: 165,
                                    },
                                    elements: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 143,
                                                    end: 153,
                                                },
                                                id: "ValueError",
                                                parenthesized: false,
                                            },
                                        ),
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 155,
                                                    end: 165,
                                                },
                                                id: "IndexError",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            AssignStatement(
                                Assign {
                                    node: Node {
                                        start: 172,
                                        end: 189,
                                    },
                                    targets: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 172,
                                                    end: 182,
                                                },
                                                id: "last_price",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 185,
                                                end: 189,
                                            },
                                            value: None,
                                        },
                                    ),
                                },
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
        TryStatement(
            Try {
                node: Node {
                    start: 190,
                    end: 287,
                },
                body: [
                    AssignStatement(
                        Assign {
                            node: Node {
                                start: 199,
                                end: 232,
                            },
                            targets: [
                                Name(
                                    Name {
                                        node: Node {
                                            start: 199,
                                            end: 208,
                                        },
                                        id: "adj_close",
                                        parenthesized: false,
                                    },
                                ),
                            ],
                            value: Call(
                                Call {
                                    node: Node {
                                        start: 211,
                                        end: 232,
                                    },
                                    func: Name(
                                        Name {
                                            node: Node {
                                                start: 211,
                                                end: 214,
                                            },
                                            id: "int",
                                            parenthesized: false,
                                        },
                                    ),
                                    args: [
                                        Subscript(
                                            Subscript {
                                                node: Node {
                                                    start: 215,
                                                    end: 231,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 215,
                                                            end: 228,
                                                        },
                                                        id: "price_section",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                slice: Constant(
                                                    Constant {
                                                        node: Node {
                                                            start: 229,
                                                            end: 230,
                                                        },
                                                        value: 3,
                                                    },
                                                ),
                                            },
                                        ),
                                    ],
                                    keywords: [],
                                    starargs: None,
                                    kwargs: None,
                                },
                            ),
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 233,
                            end: 287,
                        },
                        typ: Some(
                            Tuple(
                                Tuple {
                                    node: Node {
                                        start: 240,
                                        end: 263,
                                    },
                                    elements: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 241,
                                                    end: 251,
                                                },
                                                id: "ValueError",
                                                parenthesized: false,
                                            },
                                        ),
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 253,
                                                    end: 263,
                                                },
                                                id: "IndexError",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            AssignStatement(
                                Assign {
                                    node: Node {
                                        start: 270,
                                        end: 286,
                                    },
                                    targets: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 270,
                                                    end: 279,
                                                },
                                                id: "adj_close",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 282,
                                                end: 286,
                                            },
                                            value: None,
                                        },
                                    ),
                                },
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
        TryStatement(
            Try {
                node: Node {
                    start: 287,
                    end: 382,
                },
                body: [
                    AssignStatement(
                        Assign {
                            node: Node {
                                start: 296,
                                end: 338,
                            },
                            targets: [
                                Name(
                                    Name {
                                        node: Node {
                                            start: 296,
                                            end: 306,
                                        },
                                        id: "market_cap",
                                        parenthesized: false,
                                    },
                                ),
                            ],
                            value: BinOp(
                                BinOp {
                                    node: Node {
                                        start: 309,
                                        end: 338,
                                    },
                                    op: Mult,
                                    left: Name(
                                        Name {
                                            node: Node {
                                                start: 309,
                                                end: 318,
                                            },
                                            id: "adj_close",
                                            parenthesized: false,
                                        },
                                    ),
                                    right: Attribute(
                                        Attribute {
                                            node: Node {
                                                start: 321,
                                                end: 338,
                                            },
                                            value: Name(
                                                Name {
                                                    node: Node {
                                                        start: 321,
                                                        end: 325,
                                                    },
                                                    id: "self",
                                                    parenthesized: false,
                                                },
                                            ),
                                            attr: "total_shares",
                                        },
                                    ),
                                },
                            ),
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 339,
                            end: 382,
                        },
                        typ: Some(
                            Name(
                                Name {
                                    node: Node {
                                        start: 346,
                                        end: 356,
                                    },
                                    id: "ValueError",
                                    parenthesized: false,
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            AssignStatement(
                                Assign {
                                    node: Node {
                                        start: 362,
                                        end: 379,
                                    },
                                    targets: [
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 362,
                                                    end: 372,
                                                },
                                                id: "market_cap",
                                                parenthesized: false,
                                            },
                                        ),
                                    ],
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 375,
                                                end: 379,
                                            },
                                            value: None,
                                        },
                                    ),
                                },
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
        TryStatement(
            Try {
                node: Node {
                    start: 382,
                    end: 1152,
                },
                body: [
                    AsyncWithStatement(
                        AsyncWith {
                            node: Node {
                                start: 391,
                                end: 988,
                            },
                            items: [
                                WithItem {
                                    node: Node {
                                        start: 402,
                                        end: 487,
                                    },
                                    context_expr: Call(
                                        Call {
                                            node: Node {
                                                start: 402,
                                                end: 475,
                                            },
                                            func: Attribute(
                                                Attribute {
                                                    node: Node {
                                                        start: 402,
                                                        end: 413,
                                                    },
                                                    value: Name(
                                                        Name {
                                                            node: Node {
                                                                start: 402,
                                                                end: 409,
                                                            },
                                                            id: "session",
                                                            parenthesized: false,
                                                        },
                                                    ),
                                                    attr: "get",
                                                },
                                            ),
                                            args: [
                                                Name(
                                                    Name {
                                                        node: Node {
                                                            start: 423,
                                                            end: 426,
                                                        },
                                                        id: "url",
                                                        parenthesized: false,
                                                    },
                                                ),
                                            ],
                                            keywords: [
                                                Keyword {
                                                    node: Node {
                                                        start: 428,
                                                        end: 456,
                                                    },
                                                    arg: Some(
                                                        "headers",
                                                    ),
                                                    value: Name(
                                                        Name {
                                                            node: Node {
                                                                start: 436,
                                                                end: 456,
                                                            },
                                                            id: "TRADE_DETAILS_HEADER",
                                                            parenthesized: false,
                                                        },
                                                    ),
                                                },
                                                Keyword {
                                                    node: Node {
                                                        start: 458,
                                                        end: 470,
                                                    },
                                                    arg: Some(
                                                        "timeout",
                                                    ),
                                                    value: Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 466,
                                                                end: 470,
                                                            },
                                                            value: 100,
                                                        },
                                                    ),
                                                },
                                            ],
                                            starargs: None,
                                            kwargs: None,
                                        },
                                    ),
                                    optional_vars: Some(
                                        Name(
                                            Name {
                                                node: Node {
                                                    start: 479,
                                                    end: 487,
                                                },
                                                id: "response",
                                                parenthesized: false,
                                            },
                                        ),
                                    ),
                                },
                            ],
                            body: [
                                IfStatement(
                                    If {
                                        node: Node {
                                            start: 497,
                                            end: 988,
                                        },
                                        test: Compare(
                                            Compare {
                                                node: Node {
                                                    start: 500,
                                                    end: 522,
                                                },
                                                left: Attribute(
                                                    Attribute {
                                                        node: Node {
                                                            start: 500,
                                                            end: 515,
                                                        },
                                                        value: Name(
                                                            Name {
                                                                node: Node {
                                                                    start: 500,
                                                                    end: 508,
                                                                },
                                                                id: "response",
                                                                parenthesized: false,
                                                            },
                                                        ),
                                                        attr: "status",
                                                    },
                                                ),
                                                ops: [
                                                    Eq,
                                                ],
                                                comparators: [
                                                    Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 519,
                                                                end: 522,
                                                            },
                                                            value: 503,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                        body: [
                                            ExpressionStatement(
                                                Call(
                                                    Call {
                                                        node: Node {
                                                            start: 536,
                                                            end: 641,
                                                        },
                                                        func: Attribute(
                                                            Attribute {
                                                                node: Node {
                                                                    start: 536,
                                                                    end: 547,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 536,
                                                                            end: 542,
                                                                        },
                                                                        id: "logger",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                attr: "info",
                                                            },
                                                        ),
                                                        args: [
                                                            JoinedStr(
                                                                JoinedStr {
                                                                    node: Node {
                                                                        start: 565,
                                                                        end: 628,
                                                                    },
                                                                    values: [
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 567,
                                                                                    end: 603,
                                                                                },
                                                                                value: "Received 503 Service Unavailable on ",
                                                                            },
                                                                        ),
                                                                        FormattedValue(
                                                                            FormattedValue {
                                                                                node: Node {
                                                                                    start: 603,
                                                                                    end: 613,
                                                                                },
                                                                                value: Name(
                                                                                    Name {
                                                                                        node: Node {
                                                                                            start: 604,
                                                                                            end: 612,
                                                                                        },
                                                                                        id: "date_obj",
                                                                                        parenthesized: false,
                                                                                    },
                                                                                ),
                                                                                conversion: -1,
                                                                                format_spec: None,
                                                                            },
                                                                        ),
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 613,
                                                                                    end: 626,
                                                                                },
                                                                                value: ". Retrying...",
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        keywords: [],
                                                        starargs: None,
                                                        kwargs: None,
                                                    },
                                                ),
                                            ),
                                            AugAssignStatement(
                                                AugAssign {
                                                    node: Node {
                                                        start: 654,
                                                        end: 670,
                                                    },
                                                    target: Name(
                                                        Name {
                                                            node: Node {
                                                                start: 654,
                                                                end: 665,
                                                            },
                                                            id: "retry_count",
                                                            parenthesized: false,
                                                        },
                                                    ),
                                                    op: Add,
                                                    value: Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 669,
                                                                end: 670,
                                                            },
                                                            value: 1,
                                                        },
                                                    ),
                                                },
                                            ),
                                            ExpressionStatement(
                                                Await(
                                                    Await {
                                                        node: Node {
                                                            start: 683,
                                                            end: 705,
                                                        },
                                                        value: Call(
                                                            Call {
                                                                node: Node {
                                                                    start: 689,
                                                                    end: 705,
                                                                },
                                                                func: Attribute(
                                                                    Attribute {
                                                                        node: Node {
                                                                            start: 689,
                                                                            end: 702,
                                                                        },
                                                                        value: Name(
                                                                            Name {
                                                                                node: Node {
                                                                                    start: 689,
                                                                                    end: 696,
                                                                                },
                                                                                id: "asyncio",
                                                                                parenthesized: false,
                                                                            },
                                                                        ),
                                                                        attr: "sleep",
                                                                    },
                                                                ),
                                                                args: [
                                                                    Constant(
                                                                        Constant {
                                                                            node: Node {
                                                                                start: 703,
                                                                                end: 704,
                                                                            },
                                                                            value: 1,
                                                                        },
                                                                    ),
                                                                ],
                                                                keywords: [],
                                                                starargs: None,
                                                                kwargs: None,
                                                            },
                                                        ),
                                                    },
                                                ),
                                            ),
                                        ],
                                        orelse: [
                                            ExpressionStatement(
                                                Call(
                                                    Call {
                                                        node: Node {
                                                            start: 732,
                                                            end: 759,
                                                        },
                                                        func: Attribute(
                                                            Attribute {
                                                                node: Node {
                                                                    start: 732,
                                                                    end: 757,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 732,
                                                                            end: 740,
                                                                        },
                                                                        id: "response",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                attr: "raise_for_status",
                                                            },
                                                        ),
                                                        args: [],
                                                        keywords: [],
                                                        starargs: None,
                                                        kwargs: None,
                                                    },
                                                ),
                                            ),
                                            AssignStatement(
                                                Assign {
                                                    node: Node {
                                                        start: 772,
                                                        end: 800,
                                                    },
                                                    targets: [
                                                        Name(
                                                            Name {
                                                                node: Node {
                                                                    start: 772,
                                                                    end: 776,
                                                                },
                                                                id: "data",
                                                                parenthesized: false,
                                                            },
                                                        ),
                                                    ],
                                                    value: Await(
                                                        Await {
                                                            node: Node {
                                                                start: 779,
                                                                end: 800,
                                                            },
                                                            value: Call(
                                                                Call {
                                                                    node: Node {
                                                                        start: 785,
                                                                        end: 800,
                                                                    },
                                                                    func: Attribute(
                                                                        Attribute {
                                                                            node: Node {
                                                                                start: 785,
                                                                                end: 798,
                                                                            },
                                                                            value: Name(
                                                                                Name {
                                                                                    node: Node {
                                                                                        start: 785,
                                                                                        end: 793,
                                                                                    },
                                                                                    id: "response",
                                                                                    parenthesized: false,
                                                                                },
                                                                            ),
                                                                            attr: "json",
                                                                        },
                                                                    ),
                                                                    args: [],
                                                                    keywords: [],
                                                                    starargs: None,
                                                                    kwargs: None,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                },
                                            ),
                                            ExpressionStatement(
                                                Call(
                                                    Call {
                                                        node: Node {
                                                            start: 813,
                                                            end: 916,
                                                        },
                                                        func: Attribute(
                                                            Attribute {
                                                                node: Node {
                                                                    start: 813,
                                                                    end: 824,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 813,
                                                                            end: 819,
                                                                        },
                                                                        id: "logger",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                attr: "info",
                                                            },
                                                        ),
                                                        args: [
                                                            JoinedStr(
                                                                JoinedStr {
                                                                    node: Node {
                                                                        start: 842,
                                                                        end: 903,
                                                                    },
                                                                    values: [
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 844,
                                                                                    end: 882,
                                                                                },
                                                                                value: "Successfully fetched trade details on ",
                                                                            },
                                                                        ),
                                                                        FormattedValue(
                                                                            FormattedValue {
                                                                                node: Node {
                                                                                    start: 882,
                                                                                    end: 892,
                                                                                },
                                                                                value: Name(
                                                                                    Name {
                                                                                        node: Node {
                                                                                            start: 883,
                                                                                            end: 891,
                                                                                        },
                                                                                        id: "date_obj",
                                                                                        parenthesized: false,
                                                                                    },
                                                                                ),
                                                                                conversion: -1,
                                                                                format_spec: None,
                                                                            },
                                                                        ),
                                                                        Constant(
                                                                            Constant {
                                                                                node: Node {
                                                                                    start: 892,
                                                                                    end: 901,
                                                                                },
                                                                                value: " from tse",
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        keywords: [],
                                                        starargs: None,
                                                        kwargs: None,
                                                    },
                                                ),
                                            ),
                                            Return(
                                                Return {
                                                    node: Node {
                                                        start: 929,
                                                        end: 987,
                                                    },
                                                    value: Some(
                                                        List(
                                                            List {
                                                                node: Node {
                                                                    start: 936,
                                                                    end: 987,
                                                                },
                                                                elements: [
                                                                    Name(
                                                                        Name {
                                                                            node: Node {
                                                                                start: 937,
                                                                                end: 945,
                                                                            },
                                                                            id: "date_obj",
                                                                            parenthesized: false,
                                                                        },
                                                                    ),
                                                                    Call(
                                                                        Call {
                                                                            node: Node {
                                                                                start: 947,
                                                                                end: 986,
                                                                            },
                                                                            func: Attribute(
                                                                                Attribute {
                                                                                    node: Node {
                                                                                        start: 947,
                                                                                        end: 964,
                                                                                    },
                                                                                    value: Name(
                                                                                        Name {
                                                                                            node: Node {
                                                                                                start: 947,
                                                                                                end: 949,
                                                                                            },
                                                                                            id: "pd",
                                                                                            parenthesized: false,
                                                                                        },
                                                                                    ),
                                                                                    attr: "json_normalize",
                                                                                },
                                                                            ),
                                                                            args: [
                                                                                Subscript(
                                                                                    Subscript {
                                                                                        node: Node {
                                                                                            start: 965,
                                                                                            end: 985,
                                                                                        },
                                                                                        value: Name(
                                                                                            Name {
                                                                                                node: Node {
                                                                                                    start: 965,
                                                                                                    end: 969,
                                                                                                },
                                                                                                id: "data",
                                                                                                parenthesized: false,
                                                                                            },
                                                                                        ),
                                                                                        slice: Constant(
                                                                                            Constant {
                                                                                                node: Node {
                                                                                                    start: 970,
                                                                                                    end: 984,
                                                                                                },
                                                                                                value: "tradeHistory",
                                                                                            },
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                            ],
                                                                            keywords: [],
                                                                            starargs: None,
                                                                            kwargs: None,
                                                                        },
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ),
                                        ],
                                    },
                                ),
                            ],
                        },
                    ),
                ],
                handlers: [
                    ExceptHandler {
                        node: Node {
                            start: 988,
                            end: 1152,
                        },
                        typ: Some(
                            Tuple(
                                Tuple {
                                    node: Node {
                                        start: 995,
                                        end: 1037,
                                    },
                                    elements: [
                                        Attribute(
                                            Attribute {
                                                node: Node {
                                                    start: 996,
                                                    end: 1015,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 996,
                                                            end: 1003,
                                                        },
                                                        id: "aiohttp",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                attr: "ClientError",
                                            },
                                        ),
                                        Attribute(
                                            Attribute {
                                                node: Node {
                                                    start: 1017,
                                                    end: 1037,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 1017,
                                                            end: 1024,
                                                        },
                                                        id: "asyncio",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                attr: "TimeoutError",
                                            },
                                        ),
                                    ],
                                },
                            ),
                        ),
                        name: None,
                        body: [
                            ExpressionStatement(
                                Call(
                                    Call {
                                        node: Node {
                                            start: 1044,
                                            end: 1103,
                                        },
                                        func: Attribute(
                                            Attribute {
                                                node: Node {
                                                    start: 1044,
                                                    end: 1056,
                                                },
                                                value: Name(
                                                    Name {
                                                        node: Node {
                                                            start: 1044,
                                                            end: 1050,
                                                        },
                                                        id: "logger",
                                                        parenthesized: false,
                                                    },
                                                ),
                                                attr: "error",
                                            },
                                        ),
                                        args: [
                                            JoinedStr(
                                                JoinedStr {
                                                    node: Node {
                                                        start: 1057,
                                                        end: 1102,
                                                    },
                                                    values: [
                                                        Constant(
                                                            Constant {
                                                                node: Node {
                                                                    start: 1059,
                                                                    end: 1078,
                                                                },
                                                                value: "Request failed for ",
                                                            },
                                                        ),
                                                        FormattedValue(
                                                            FormattedValue {
                                                                node: Node {
                                                                    start: 1078,
                                                                    end: 1088,
                                                                },
                                                                value: Name(
                                                                    Name {
                                                                        node: Node {
                                                                            start: 1079,
                                                                            end: 1087,
                                                                        },
                                                                        id: "date_obj",
                                                                        parenthesized: false,
                                                                    },
                                                                ),
                                                                conversion: -1,
                                                                format_spec: None,
                                                            },
                                                        ),
                                                        Constant(
                                                            Constant {
                                                                node: Node {
                                                                    start: 1088,
                                                                    end: 1101,
                                                                },
                                                                value: ". Retrying...",
                                                            },
                                                        ),
                                                    ],
                                                },
                                            ),
                                        ],
                                        keywords: [],
                                        starargs: None,
                                        kwargs: None,
                                    },
                                ),
                            ),
                            AugAssignStatement(
                                AugAssign {
                                    node: Node {
                                        start: 1108,
                                        end: 1124,
                                    },
                                    target: Name(
                                        Name {
                                            node: Node {
                                                start: 1108,
                                                end: 1119,
                                            },
                                            id: "retry_count",
                                            parenthesized: false,
                                        },
                                    ),
                                    op: Add,
                                    value: Constant(
                                        Constant {
                                            node: Node {
                                                start: 1123,
                                                end: 1124,
                                            },
                                            value: 1,
                                        },
                                    ),
                                },
                            ),
                            ExpressionStatement(
                                Await(
                                    Await {
                                        node: Node {
                                            start: 1129,
                                            end: 1151,
                                        },
                                        value: Call(
                                            Call {
                                                node: Node {
                                                    start: 1135,
                                                    end: 1151,
                                                },
                                                func: Attribute(
                                                    Attribute {
                                                        node: Node {
                                                            start: 1135,
                                                            end: 1148,
                                                        },
                                                        value: Name(
                                                            Name {
                                                                node: Node {
                                                                    start: 1135,
                                                                    end: 1142,
                                                                },
                                                                id: "asyncio",
                                                                parenthesized: false,
                                                            },
                                                        ),
                                                        attr: "sleep",
                                                    },
                                                ),
                                                args: [
                                                    Constant(
                                                        Constant {
                                                            node: Node {
                                                                start: 1149,
                                                                end: 1150,
                                                            },
                                                            value: 1,
                                                        },
                                                    ),
                                                ],
                                                keywords: [],
                                                starargs: None,
                                                kwargs: None,
                                            },
                                        ),
                                    },
                                ),
                            ),
                        ],
                    },
                ],
                orelse: [],
                finalbody: [],
            },
        ),
    ],
}
